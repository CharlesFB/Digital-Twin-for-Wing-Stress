using UnityEngine;
using System;
using System.IO;
using System.Net.Sockets;
using System.Text;
using System.Threading.Tasks;
using System.Collections.Generic;
using TMPro;
using UnityEngine.UI;

public class SocketController : MonoBehaviour
{
    private TcpClient tcpClient;
    private NetworkStream networkStream;

    // 存储 3 个 float 数组
    public List<float>[] floatArrays = new List<float>[3];

    private string serverAddress = "192.168.101.1"; // 服务器地址
    private int serverPort = 6340;             // 服务器端口

    private string startConnect = "启动连接";
    private string closeConnect = "关闭连接";
    private bool isConnected = false;

    public TMP_InputField ipField;
    public TMP_InputField portField;
    public TextMeshProUGUI buttonText;
    public Image status;

    private void Awake()
    {
        // 初始化 3 个 float 数组
        for (int i = 0; i < 3; i++)
        {
            floatArrays[i] = new List<float>();
        }

        isConnected = false;
        disconnected = new Color(160, 0, 0);
        connected = new Color(0, 220, 0);
    }

    void Start()
    {
        // 开始连接服务器
        //ConnectToServer(); //关闭连接测试数据中，恢复链接打开注释

    }

    int testi = 0;

    private void Update()
    {
        //测试用假数据把下边的注释打开
        for (int i = 0; i < 100; i++)
        {
            floatArrays[0].Add(MOCK_LIST_5HZ[testi, i]);
            floatArrays[1].Add(MOCK_LIST_5HZ[testi + 2, i]);
            floatArrays[2].Add(MOCK_LIST_5HZ[testi + 1, i]);
        }
        testi = (testi + 3) % MOCK_LIST_5HZ.GetLength(0);
    }

    async void ConnectToServer()
    {
        try
        {
            tcpClient = new TcpClient();
            Debug.Log("Connecting to server...");
            await tcpClient.ConnectAsync(serverAddress, serverPort);
            Debug.Log("Connected to server!");
            if (status != null)
            {
                status.color = connected;
            }

            networkStream = tcpClient.GetStream();

            // 开始异步读取数据
            ReadDataAsync();
        }
        catch (Exception ex)
        {
            Debug.LogError($"Connection error: {ex.Message}");
        }
    }

    async void ReadDataAsync()
    {
        byte[] buffer = new byte[8192];

        while (tcpClient.Connected)
        {
            try
            {
                int bytesRead = await networkStream.ReadAsync(buffer, 0, buffer.Length);
                if (bytesRead > 0)
                {
                    // 解码字符串并处理
                    string receivedData = DecodeLatin1(buffer, bytesRead);
                    //Debug.Log(receivedData);
                    ProcessData(receivedData);
                }
            }
            catch (Exception ex)
            {
                Debug.LogError($"Error while reading data: {ex.Message}");
                break;
            }
        }
    }

    // 解码 Latin-1 编码
    private string DecodeLatin1(byte[] data, int length)
    {
        return Encoding.GetEncoding("ISO-8859-1").GetString(data, 0, length);
    }

    // 处理接收到的数据
    private void ProcessData(string data)
    {
        try
        {
            // 1. 去掉前 4 个字符
            if (data.Length <= 4)
            {
                Debug.LogWarning("Data is too short!");
                return;
            }
            string trimmedData = data.Substring(4);

            // 2. 按 '\r' 分割，并去掉首尾空格，过滤非空字符串
            string[] splitByCarriageReturn = trimmedData.Split(new[] { '\r' }, StringSplitOptions.RemoveEmptyEntries);
            List<string> validStrings = new List<string>();
            foreach (string part in splitByCarriageReturn)
            {
                string cleanedPart = part.Trim();
                if (!string.IsNullOrEmpty(cleanedPart))
                {
                    validStrings.Add(cleanedPart);
                }
            }

            // 确保有 3 个有效字符串
            if (validStrings.Count != 3)
            {
                Debug.LogWarning("Invalid data format! Expected 3 non-empty strings.");
                return;
            }

            // 3. 按 '\t' 分割每个字符串，并将数值转换为 float
            for (int i = 0; i < 3; i++)
            {
                string[] floatStrings = validStrings[i].Split(new[] { '\t' }, StringSplitOptions.RemoveEmptyEntries);
                foreach (string floatStr in floatStrings)
                {
                    if (float.TryParse(floatStr, out float value))
                    {
                        floatArrays[i].Add(value);
                    }
                    else
                    {
                        Debug.LogWarning($"Invalid float value: {floatStr}");
                    }
                }
            }

            Debug.Log("Data processed successfully.");
            
        }
        catch (Exception ex)
        {
            Debug.LogError($"Error processing data: {ex.Message}");
        }
    }

    void OnApplicationQuit()
    {
        // 清理连接
        if (networkStream != null) networkStream.Close();
        if (tcpClient != null) tcpClient.Close();
        if (status != null)
            status.color = disconnected;
    }

    private Color disconnected = new Color(160,0,0);
    private Color connected = new Color(0, 220, 0);

    public void PressButton()
    {
        serverAddress = ipField.text;
        if (int.TryParse(portField.text, out int result))
            serverPort = result;
        else
            serverPort = 6340;
        isConnected ^= true;
        if (isConnected)
        {
            buttonText.SetText(closeConnect);
            StartConnection();
        }else
        {
            buttonText.SetText(startConnect);
            CloseConnection();
        }
    }

    public void CloseConnection()
    {
        if (networkStream != null) networkStream.Close();
        if (tcpClient != null) tcpClient.Close();
        if (status != null)
            status.color = disconnected;
    }

    public void StartConnection()
    {
        ConnectToServer();
    }

    private float[,] MOCK_LIST_5HZ =
    {
        {121.796f,121.456f,121.439f,121.242f,120.914f,120.920f,120.676f,120.449f,120.580f,120.544f,120.384f,120.366f,120.473f,120.389f,120.693f,120.854f,120.872f,121.111f,121.289f,121.582f,121.880f,122.178f,122.315f,122.583f,122.744f,122.857f,123.173f,123.215f,123.656f,123.924f,124.186f,124.502f,124.788f,124.973f,125.307f,125.712f,126.231f,126.380f,126.415f,126.565f,127.083f,127.262f,127.435f,127.441f,127.399f,127.316f,127.369f,127.000f,126.910f,126.821f,126.511f,126.243f,126.022f,125.927f,125.742f,125.510f,125.563f,125.587f,125.653f,125.629f,125.659f,125.664f,125.611f,125.474f,125.480f,125.635f,125.492f,125.498f,125.450f,125.545f,125.462f,125.152f,125.247f,124.949f,125.235f,125.426f,125.313f,125.468f,125.539f,125.706f,125.915f,126.165f,126.410f,126.791f,127.065f,127.524f,127.643f,127.840f,127.876f,128.078f,128.138f,127.900f,127.858f,127.536f,127.345f,127.161f,126.934f,126.868f,126.487f,126.201f},
        {50.133f,50.777f,51.314f,51.886f,52.309f,52.661f,52.953f,53.310f,53.662f,54.091f,54.318f,54.693f,55.015f,55.337f,55.438f,55.540f,55.659f,55.873f,55.730f,55.701f,55.426f,55.242f,55.122f,55.003f,54.836f,54.574f,54.491f,54.210f,54.216f,54.348f,54.216f,54.312f,54.228f,54.353f,54.520f,54.646f,54.842f,55.051f,55.289f,55.379f,55.492f,55.838f,56.076f,56.303f,56.505f,56.881f,57.423f,57.703f,58.180f,58.824f,59.313f,60.165f,60.886f,61.864f,62.978f,64.397f,65.798f,67.282f,69.165f,70.983f,72.712f,74.530f,76.365f,77.963f,79.459f,80.842f,81.998f,82.690f,83.178f,83.691f,83.750f,83.524f,83.232f,82.922f,82.558f,82.284f,81.927f,81.682f,81.366f,80.985f,80.949f,80.448f,80.395f,80.168f,79.936f,79.918f,79.679f,79.483f,79.566f,79.226f,79.221f,78.911f,78.768f,78.654f,78.583f,78.726f,78.624f,78.565f,78.613f,78.702f},
        {-5.609f,-5.293f,-4.643f,-4.405f,-4.035f,-3.582f,-3.082f,-2.903f,-2.706f,-2.360f,-2.193f,-2.301f,-2.491f,-2.611f,-2.968f,-3.016f,-3.290f,-3.433f,-3.695f,-4.029f,-4.125f,-4.256f,-4.792f,-5.168f,-5.341f,-5.734f,-6.115f,-6.336f,-6.872f,-7.117f,-7.385f,-7.915f,-8.333f,-8.851f,-9.483f,-9.859f,-10.067f,-10.431f,-10.550f,-10.729f,-10.920f,-10.920f,-11.122f,-11.134f,-10.931f,-10.967f,-10.604f,-10.121f,-9.608f,-8.923f,-8.219f,-7.629f,-6.855f,-6.199f,-5.531f,-4.876f,-4.202f,-3.481f,-3.064f,-2.462f,-1.973f,-1.651f,-1.359f,-1.049f,-0.858f,-0.459f,-0.018f,0.370f,0.918f,1.520f,1.884f,2.480f,2.807f,3.129f,3.344f,3.350f,3.397f,3.159f,3.004f,2.992f,2.611f,2.337f,1.937f,1.395f,1.067f,0.781f,0.453f,0.316f,0.298f,0.173f,0.280f,0.393f,0.364f,0.322f,0.364f,0.471f,0.870f,1.115f,1.484f,1.484f},

        {126.237f,126.004f,125.974f,125.706f,125.563f,125.670f,125.611f,125.676f,125.796f,125.623f,125.676f,125.331f,125.337f,125.527f,125.289f,125.253f,125.158f,125.301f,125.450f,125.414f,125.432f,125.498f,125.378f,125.378f,125.486f,125.587f,125.772f,125.986f,125.951f,126.028f,126.231f,126.177f,126.165f,126.165f,126.064f,125.945f,125.873f,125.998f,125.766f,125.462f,125.295f,124.925f,124.878f,124.431f,124.365f,123.906f,123.549f,123.394f,123.161f,122.714f,122.362f,122.136f,121.820f,121.421f,121.087f,120.836f,120.676f,120.550f,120.240f,120.187f,119.925f,119.770f,119.632f,119.746f,119.698f,119.752f,119.966f,120.056f,120.550f,120.836f,120.866f,121.069f,121.289f,121.331f,121.480f,121.683f,121.701f,121.862f,121.909f,122.142f,122.094f,122.112f,122.315f,122.178f,122.279f,122.386f,122.458f,122.583f,122.380f,122.243f,122.476f,122.476f,122.613f,122.648f,122.428f,122.577f,122.327f,122.523f,122.225f,122.082f},
        {78.696f,78.696f,78.744f,79.077f,79.387f,79.572f,79.644f,79.662f,79.447f,79.232f,78.785f,78.338f,77.546f,76.687f,75.597f,74.506f,72.938f,71.478f,69.916f,68.212f,66.525f,65.124f,63.735f,62.323f,60.999f,59.837f,58.693f,57.727f,56.905f,55.993f,55.248f,54.383f,53.895f,53.304f,52.923f,52.714f,52.440f,52.088f,52.088f,51.856f,52.041f,51.939f,52.196f,52.142f,52.226f,52.625f,52.744f,52.911f,53.024f,53.322f,53.298f,53.465f,53.382f,53.394f,53.465f,53.304f,53.161f,53.185f,53.185f,53.138f,53.078f,53.138f,52.947f,52.792f,52.679f,52.643f,52.541f,52.166f,51.993f,51.671f,51.314f,50.944f,50.533f,49.853f,49.192f,48.572f,47.892f,46.861f,45.937f,45.168f,44.119f,43.154f,42.379f,41.831f,41.276f,40.907f,40.686f,40.931f,41.038f,41.461f,42.105f,42.355f,43.142f,44.060f,44.966f,45.872f,46.593f,47.594f,48.357f,49.084f},
        {1.740f,1.889f,1.895f,1.723f,1.591f,1.377f,1.097f,0.954f,0.405f,0.101f,-0.328f,-0.852f,-1.180f,-1.568f,-1.997f,-2.301f,-2.599f,-3.052f,-3.439f,-3.761f,-4.226f,-4.852f,-5.317f,-6.080f,-6.825f,-7.457f,-8.053f,-8.601f,-8.994f,-9.418f,-9.686f,-10.133f,-10.419f,-10.514f,-10.771f,-10.884f,-10.848f,-10.532f,-10.431f,-10.169f,-9.865f,-9.733f,-9.507f,-9.173f,-9.060f,-8.863f,-8.506f,-8.023f,-7.522f,-7.081f,-6.545f,-6.115f,-5.788f,-5.311f,-4.840f,-4.679f,-4.268f,-3.868f,-3.546f,-3.380f,-2.986f,-2.915f,-2.980f,-2.974f,-3.320f,-3.386f,-3.546f,-3.904f,-4.065f,-4.184f,-4.691f,-5.096f,-5.573f,-5.984f,-6.407f,-7.069f,-7.463f,-7.540f,-7.695f,-7.826f,-7.826f,-8.142f,-8.029f,-8.172f,-8.279f,-8.309f,-8.237f,-8.154f,-8.237f,-8.231f,-8.208f,-8.130f,-8.118f,-8.118f,-8.124f,-7.749f,-7.504f,-7.296f,-6.837f,-6.330f},

        {121.886f,121.564f,121.289f,121.129f,121.069f,120.860f,120.753f,120.485f,120.485f,120.604f,120.324f,120.479f,120.401f,120.473f,120.652f,120.705f,121.146f,121.170f,121.421f,121.737f,121.874f,121.963f,122.249f,122.476f,122.571f,122.911f,123.161f,123.477f,123.650f,123.906f,124.007f,124.329f,124.526f,124.848f,125.211f,125.444f,125.903f,126.410f,126.505f,126.523f,127.065f,127.327f,127.256f,127.476f,127.226f,127.333f,127.268f,127.137f,127.077f,126.922f,126.481f,126.410f,126.106f,126.004f,125.933f,125.837f,125.629f,125.724f,125.688f,125.712f,125.670f,125.563f,125.629f,125.670f,125.670f,125.682f,125.659f,125.587f,125.575f,125.468f,125.432f,125.438f,125.200f,125.122f,125.182f,125.140f,125.110f,125.396f,125.390f,125.664f,125.808f,126.058f,126.451f,126.570f,126.958f,127.298f,127.620f,127.733f,127.810f,128.114f,128.043f,127.971f,127.882f,127.673f,127.453f,127.304f,127.172f,126.880f,126.767f,126.553f},
        {49.829f,50.437f,51.022f,51.510f,51.957f,52.333f,52.762f,53.072f,53.561f,53.775f,54.097f,54.383f,54.753f,54.801f,54.890f,55.283f,55.420f,55.438f,55.504f,55.379f,55.391f,55.259f,54.950f,54.979f,54.789f,54.508f,54.413f,54.336f,54.258f,54.097f,54.246f,54.139f,54.026f,54.359f,54.449f,54.598f,54.723f,54.896f,55.224f,55.194f,55.468f,55.575f,55.969f,56.249f,56.422f,56.791f,57.179f,57.453f,58.001f,58.562f,59.092f,59.813f,60.469f,61.452f,62.466f,63.837f,65.154f,66.763f,68.414f,70.202f,71.883f,73.689f,75.614f,77.331f,78.946f,80.335f,81.420f,82.487f,83.178f,83.494f,83.512f,83.596f,83.387f,83.250f,82.737f,82.266f,81.843f,81.491f,81.289f,80.919f,80.884f,80.556f,80.395f,80.323f,80.109f,80.049f,79.924f,79.793f,79.584f,79.376f,79.101f,79.066f,78.785f,78.750f,78.708f,78.470f,78.696f,78.374f,78.410f,78.416f},
        {-5.829f,-5.257f,-5.001f,-4.429f,-4.071f,-3.862f,-3.338f,-2.998f,-2.646f,-2.474f,-2.438f,-2.509f,-2.676f,-2.646f,-2.968f,-3.165f,-3.463f,-3.588f,-3.654f,-3.999f,-4.256f,-4.321f,-4.739f,-5.066f,-5.543f,-5.716f,-5.901f,-6.235f,-6.688f,-7.021f,-7.331f,-7.951f,-8.106f,-8.589f,-9.233f,-9.614f,-9.823f,-10.204f,-10.353f,-10.633f,-10.812f,-10.896f,-10.973f,-10.914f,-10.973f,-11.015f,-10.717f,-10.371f,-9.888f,-9.173f,-8.529f,-7.868f,-7.159f,-6.336f,-5.716f,-5.209f,-4.435f,-3.833f,-3.141f,-2.468f,-1.997f,-1.854f,-1.442f,-1.252f,-0.966f,-0.507f,-0.232f,0.250f,0.608f,1.198f,1.824f,2.354f,2.664f,3.099f,3.338f,3.278f,3.421f,3.356f,3.344f,3.356f,2.927f,2.480f,2.211f,1.717f,1.287f,0.978f,0.745f,0.495f,0.417f,0.215f,0.161f,0.268f,0.304f,0.399f,0.566f,0.763f,0.912f,1.073f,1.299f,1.633f},

        {126.237f,126.177f,125.867f,125.742f,125.855f,125.521f,125.575f,125.736f,125.605f,125.659f,125.688f,125.617f,125.480f,125.492f,125.366f,125.259f,125.217f,125.223f,125.390f,125.372f,125.319f,125.355f,125.360f,125.349f,125.408f,125.545f,125.581f,125.861f,125.855f,125.873f,126.106f,126.290f,126.219f,126.219f,126.088f,125.903f,125.909f,125.909f,125.790f,125.641f,125.510f,125.033f,124.830f,124.568f,124.323f,124.103f,123.656f,123.537f,123.084f,122.881f,122.482f,122.261f,121.832f,121.409f,121.230f,120.795f,120.801f,120.491f,120.425f,120.211f,120.080f,119.853f,119.793f,119.883f,119.781f,119.656f,119.901f,120.211f,120.181f,120.467f,120.717f,120.854f,121.051f,121.164f,121.522f,121.623f,121.629f,121.903f,121.880f,121.957f,122.076f,121.999f,122.184f,122.195f,122.172f,122.267f,122.464f,122.476f,122.613f,122.213f,122.482f,122.654f,122.523f,122.541f,122.601f,122.654f,122.398f,122.350f,122.333f,122.052f},
        {78.470f,78.487f,78.738f,79.000f,79.018f,79.381f,79.316f,79.525f,79.417f,79.238f,78.982f,78.309f,77.862f,77.003f,75.907f,74.923f,73.391f,72.020f,70.554f,68.825f,67.204f,65.500f,64.057f,62.644f,61.530f,60.242f,59.074f,58.120f,57.185f,56.350f,55.420f,54.705f,54.115f,53.507f,53.036f,52.696f,52.321f,52.100f,51.993f,51.838f,51.892f,51.874f,51.826f,51.934f,52.172f,52.267f,52.452f,52.541f,52.798f,53.066f,53.042f,53.275f,53.126f,53.149f,53.179f,53.138f,53.114f,53.179f,52.989f,53.132f,52.917f,52.929f,52.834f,52.875f,52.786f,52.816f,52.541f,52.315f,52.261f,51.820f,51.534f,51.141f,50.515f,49.990f,49.424f,48.798f,48.018f,47.159f,46.355f,45.407f,44.459f,43.482f,42.862f,42.015f,41.294f,41.080f,40.823f,40.656f,40.710f,41.050f,41.664f,42.254f,42.671f,43.595f,44.513f,45.508f,46.313f,47.112f,48.071f,48.828f},
        {1.669f,1.818f,1.752f,1.872f,1.687f,1.365f,1.043f,0.858f,0.608f,0.250f,-0.006f,-0.501f,-0.900f,-1.246f,-1.830f,-2.140f,-2.408f,-2.837f,-3.147f,-3.552f,-3.892f,-4.584f,-5.037f,-5.645f,-6.515f,-7.176f,-7.629f,-8.011f,-8.655f,-9.209f,-9.608f,-9.918f,-10.240f,-10.693f,-10.818f,-10.830f,-10.931f,-10.687f,-10.574f,-10.324f,-10.020f,-9.793f,-9.650f,-9.286f,-9.036f,-8.923f,-8.613f,-7.969f,-7.689f,-7.367f,-6.837f,-6.384f,-5.972f,-5.585f,-5.281f,-4.923f,-4.464f,-4.166f,-3.630f,-3.356f,-3.159f,-3.082f,-3.105f,-3.064f,-3.093f,-3.403f,-3.618f,-3.737f,-3.892f,-4.077f,-4.572f,-5.007f,-5.525f,-5.925f,-6.241f,-6.735f,-7.063f,-7.433f,-7.540f,-7.784f,-7.814f,-8.070f,-8.106f,-8.160f,-8.315f,-8.321f,-8.351f,-8.345f,-8.416f,-8.106f,-8.106f,-8.303f,-8.172f,-8.082f,-8.124f,-7.886f,-7.713f,-7.141f,-6.795f,-6.521f},

        {121.981f,121.677f,121.456f,121.212f,121.069f,121.099f,120.789f,120.592f,120.455f,120.491f,120.479f,120.336f,120.342f,120.419f,120.509f,120.747f,120.932f,121.069f,121.349f,121.456f,121.659f,121.957f,122.190f,122.523f,122.577f,122.672f,123.030f,123.399f,123.435f,123.703f,123.960f,124.341f,124.604f,124.818f,125.098f,125.390f,125.790f,126.243f,126.588f,126.487f,126.886f,127.214f,127.268f,127.351f,127.411f,127.286f,127.232f,127.149f,127.184f,126.898f,126.725f,126.505f,126.159f,126.100f,125.909f,125.808f,125.694f,125.706f,125.575f,125.647f,125.581f,125.659f,125.676f,125.611f,125.694f,125.694f,125.557f,125.575f,125.545f,125.372f,125.366f,125.396f,125.211f,125.128f,125.277f,125.158f,125.140f,125.355f,125.533f,125.724f,125.784f,125.957f,126.076f,126.511f,126.845f,127.238f,127.429f,127.798f,127.804f,127.918f,128.043f,127.918f,127.947f,127.900f,127.482f,127.262f,127.119f,126.952f,126.737f,126.338f},
        {49.615f,50.366f,50.879f,51.439f,51.886f,52.357f,52.708f,53.108f,53.370f,53.763f,54.169f,54.288f,54.675f,55.057f,55.319f,55.403f,55.522f,55.641f,55.599f,55.516f,55.522f,55.462f,55.057f,55.009f,54.777f,54.663f,54.491f,54.330f,54.240f,54.163f,54.163f,54.318f,54.115f,54.163f,54.276f,54.598f,54.717f,54.944f,55.027f,55.224f,55.468f,55.724f,55.915f,56.058f,56.469f,56.678f,57.125f,57.507f,57.775f,58.556f,58.997f,59.563f,60.272f,61.226f,62.305f,63.312f,64.790f,66.262f,68.003f,69.737f,71.472f,73.302f,74.977f,76.735f,78.511f,80.043f,81.068f,82.177f,82.928f,83.184f,83.357f,83.506f,83.315f,83.202f,82.815f,82.284f,81.903f,81.521f,81.176f,80.949f,80.639f,80.383f,80.174f,80.115f,79.966f,79.888f,79.900f,79.691f,79.316f,79.149f,79.101f,78.905f,78.809f,78.779f,78.595f,78.630f,78.577f,78.487f,78.380f,78.386f},
        {-5.990f,-5.490f,-5.019f,-4.637f,-4.160f,-3.844f,-3.511f,-2.944f,-2.629f,-2.426f,-2.432f,-2.402f,-2.372f,-2.521f,-2.819f,-3.088f,-3.242f,-3.433f,-3.564f,-3.642f,-3.970f,-4.315f,-4.637f,-4.929f,-5.257f,-5.513f,-5.889f,-6.300f,-6.527f,-6.795f,-7.105f,-7.588f,-8.130f,-8.422f,-9.197f,-9.555f,-9.686f,-9.984f,-10.389f,-10.443f,-10.657f,-10.961f,-11.045f,-11.033f,-11.098f,-10.967f,-10.741f,-10.431f,-10.043f,-9.477f,-8.690f,-8.100f,-7.141f,-6.557f,-5.895f,-5.186f,-4.601f,-3.779f,-3.171f,-2.539f,-2.253f,-1.836f,-1.448f,-1.234f,-1.013f,-0.787f,-0.322f,0.060f,0.554f,1.162f,1.621f,2.033f,2.491f,2.879f,3.088f,3.272f,3.386f,3.457f,3.189f,3.117f,2.974f,2.462f,2.211f,1.723f,1.276f,0.978f,0.578f,0.501f,0.346f,0.155f,0.054f,0.185f,0.179f,0.495f,0.519f,0.560f,0.811f,1.085f,1.222f,1.651f},

        {126.255f,126.028f,125.968f,125.897f,125.813f,125.629f,125.581f,125.647f,125.748f,125.796f,125.659f,125.539f,125.510f,125.271f,125.366f,125.432f,125.206f,125.283f,125.277f,125.355f,125.307f,125.360f,125.438f,125.426f,125.462f,125.402f,125.635f,125.802f,125.903f,125.986f,126.004f,126.302f,126.153f,126.195f,126.106f,126.016f,126.058f,125.939f,125.790f,125.551f,125.557f,125.206f,124.842f,124.812f,124.407f,124.198f,123.847f,123.554f,123.191f,123.018f,122.684f,122.452f,121.987f,121.641f,121.301f,120.986f,120.836f,120.527f,120.401f,120.151f,119.996f,119.966f,119.680f,119.686f,119.776f,119.585f,119.865f,120.026f,120.181f,120.604f,120.676f,120.783f,121.158f,121.242f,121.450f,121.641f,121.677f,121.886f,121.790f,121.897f,122.178f,121.915f,122.279f,122.231f,122.166f,122.297f,122.237f,122.458f,122.553f,122.231f,122.273f,122.511f,122.464f,122.410f,122.589f,122.720f,122.499f,122.422f,122.237f,122.291f},
        {78.291f,78.511f,78.589f,78.732f,78.869f,79.244f,79.381f,79.548f,79.602f,79.316f,78.905f,78.595f,77.951f,77.212f,76.210f,75.036f,73.671f,72.312f,70.810f,69.326f,67.633f,65.815f,64.325f,62.972f,61.715f,60.505f,59.354f,58.496f,57.501f,56.469f,55.695f,55.009f,54.318f,53.769f,53.293f,52.857f,52.476f,52.124f,52.071f,51.975f,51.790f,51.963f,51.922f,52.041f,52.255f,52.363f,52.500f,52.601f,52.840f,53.144f,53.126f,53.239f,53.298f,53.287f,53.376f,53.251f,53.185f,53.197f,53.161f,53.096f,53.078f,53.006f,53.054f,52.959f,52.696f,52.691f,52.655f,52.595f,52.184f,52.035f,51.641f,51.194f,50.777f,50.128f,49.752f,48.852f,48.405f,47.582f,46.736f,45.812f,44.882f,43.875f,43.213f,42.349f,41.705f,41.223f,40.656f,40.686f,40.835f,41.080f,41.437f,41.980f,42.593f,43.356f,44.185f,45.049f,46.146f,46.813f,47.672f,48.536f},
        {1.740f,1.818f,1.866f,1.806f,1.663f,1.460f,1.252f,0.823f,0.697f,0.376f,0.012f,-0.477f,-0.906f,-1.228f,-1.627f,-2.170f,-2.486f,-2.676f,-2.927f,-3.463f,-3.779f,-4.351f,-4.959f,-5.579f,-6.205f,-6.962f,-7.582f,-8.208f,-8.702f,-9.090f,-9.549f,-9.960f,-10.234f,-10.663f,-10.717f,-10.651f,-10.902f,-10.651f,-10.461f,-10.329f,-10.002f,-9.906f,-9.632f,-9.358f,-9.185f,-8.857f,-8.523f,-8.303f,-7.665f,-7.254f,-6.968f,-6.580f,-6.020f,-5.794f,-5.454f,-5.043f,-4.518f,-4.208f,-3.707f,-3.523f,-3.308f,-3.052f,-3.088f,-2.980f,-3.242f,-3.415f,-3.624f,-3.558f,-3.767f,-4.154f,-4.268f,-4.613f,-5.114f,-5.716f,-6.223f,-6.706f,-6.777f,-7.278f,-7.647f,-7.808f,-8.023f,-7.999f,-8.017f,-8.130f,-8.261f,-8.190f,-8.422f,-8.315f,-8.333f,-8.219f,-8.088f,-8.267f,-8.172f,-8.035f,-7.999f,-8.142f,-7.749f,-7.319f,-7.039f,-6.658f},

        {122.088f,121.814f,121.623f,121.284f,121.200f,120.986f,120.950f,120.652f,120.628f,120.658f,120.467f,120.467f,120.485f,120.443f,120.568f,120.491f,120.807f,120.938f,121.194f,121.599f,121.564f,121.832f,122.160f,122.446f,122.577f,122.762f,122.964f,123.060f,123.382f,123.733f,123.858f,124.210f,124.574f,124.741f,124.961f,125.277f,125.760f,126.004f,126.487f,126.553f,126.463f,127.167f,127.351f,127.369f,127.321f,127.363f,127.202f,127.333f,127.155f,126.874f,126.612f,126.499f,126.314f,126.082f,125.843f,125.885f,125.682f,125.486f,125.659f,125.557f,125.581f,125.688f,125.510f,125.527f,125.533f,125.563f,125.504f,125.623f,125.575f,125.462f,125.390f,125.265f,125.128f,125.039f,125.146f,125.039f,125.104f,125.170f,125.498f,125.521f,125.587f,125.998f,126.052f,126.392f,126.797f,126.910f,127.262f,127.584f,127.912f,127.894f,127.840f,127.971f,127.977f,127.763f,127.524f,127.256f,127.298f,126.934f,126.785f,126.433f},
        {49.287f,49.853f,50.771f,51.212f,51.647f,52.011f,52.470f,52.762f,53.185f,53.585f,53.883f,54.228f,54.586f,54.783f,55.021f,55.182f,55.534f,55.486f,55.587f,55.569f,55.391f,55.242f,55.116f,54.955f,54.747f,54.532f,54.407f,54.437f,54.300f,54.133f,53.918f,54.157f,54.026f,54.204f,54.228f,54.425f,54.485f,54.902f,55.057f,55.230f,55.426f,55.391f,55.724f,55.939f,56.100f,56.517f,56.773f,57.065f,57.650f,58.103f,58.556f,59.384f,59.915f,60.666f,61.715f,62.877f,64.141f,65.625f,67.192f,68.861f,70.751f,72.587f,74.422f,76.073f,77.832f,79.584f,80.794f,81.837f,82.755f,83.208f,83.500f,83.685f,83.619f,83.452f,82.988f,82.672f,82.326f,81.897f,81.503f,81.187f,80.889f,80.627f,80.460f,80.335f,80.180f,80.138f,80.049f,79.882f,79.679f,79.513f,79.125f,78.982f,78.839f,78.773f,78.624f,78.714f,78.511f,78.470f,78.392f,78.398f},
        {-6.050f,-5.794f,-5.072f,-4.810f,-4.405f,-4.023f,-3.618f,-2.944f,-2.813f,-2.611f,-2.384f,-2.271f,-2.408f,-2.664f,-2.730f,-3.082f,-3.195f,-3.290f,-3.558f,-3.827f,-3.976f,-4.196f,-4.530f,-4.756f,-5.072f,-5.412f,-5.841f,-6.151f,-6.479f,-6.759f,-6.908f,-7.516f,-8.053f,-8.494f,-9.042f,-9.453f,-9.698f,-9.972f,-10.216f,-10.455f,-10.616f,-10.854f,-10.878f,-10.985f,-11.081f,-10.979f,-10.788f,-10.437f,-10.133f,-9.638f,-8.941f,-8.357f,-7.808f,-6.968f,-6.324f,-5.668f,-4.977f,-4.184f,-3.606f,-2.956f,-2.497f,-2.062f,-1.705f,-1.341f,-1.115f,-0.876f,-0.441f,0.024f,0.495f,1.043f,1.472f,2.098f,2.378f,2.807f,3.082f,3.201f,3.415f,3.386f,3.362f,3.356f,3.064f,2.676f,2.408f,2.062f,1.371f,1.073f,0.811f,0.644f,0.572f,0.262f,0.364f,0.185f,0.221f,0.411f,0.507f,0.489f,0.620f,0.912f,1.305f,1.502f},

        {126.261f,126.141f,125.998f,126.046f,125.766f,125.635f,125.659f,125.736f,125.623f,125.659f,125.617f,125.617f,125.396f,125.265f,125.217f,125.396f,125.307f,125.235f,125.343f,125.384f,125.301f,125.301f,125.259f,125.343f,125.486f,125.426f,125.718f,125.754f,125.927f,126.028f,125.927f,126.100f,126.076f,126.207f,126.094f,126.082f,125.897f,126.004f,125.831f,125.682f,125.468f,125.289f,125.122f,124.770f,124.401f,124.216f,123.829f,123.692f,123.340f,123.006f,122.887f,122.470f,122.100f,121.623f,121.313f,121.087f,120.890f,120.753f,120.461f,120.276f,119.984f,119.919f,119.704f,119.680f,119.728f,119.632f,119.770f,119.966f,120.264f,120.544f,120.699f,120.783f,120.884f,121.158f,121.319f,121.582f,121.683f,121.838f,121.939f,121.874f,122.088f,122.064f,122.118f,122.184f,122.279f,122.279f,122.327f,122.470f,122.625f,122.285f,122.088f,122.416f,122.523f,122.446f,122.553f,122.708f,122.356f,122.267f,122.291f,122.303f},
        {78.392f,78.452f,78.470f,78.696f,78.958f,79.149f,79.513f,79.679f,79.578f,79.507f,79.262f,78.863f,78.243f,77.420f,76.610f,75.585f,74.333f,72.908f,71.442f,69.904f,68.289f,66.650f,65.076f,63.562f,62.156f,60.898f,59.831f,58.722f,57.721f,56.952f,56.118f,55.337f,54.604f,53.990f,53.370f,52.857f,52.476f,52.094f,51.850f,51.737f,51.767f,51.653f,51.743f,51.749f,51.934f,52.047f,52.243f,52.631f,52.720f,52.738f,52.989f,53.173f,53.185f,53.048f,53.155f,53.376f,53.203f,53.120f,53.048f,53.000f,52.965f,52.947f,52.714f,52.875f,52.881f,52.774f,52.655f,52.482f,52.375f,51.922f,51.802f,51.206f,50.789f,50.414f,49.847f,49.186f,48.482f,47.702f,46.712f,45.896f,45.013f,43.958f,43.142f,42.319f,41.562f,41.217f,40.877f,40.674f,40.609f,40.847f,41.264f,41.503f,42.301f,43.130f,43.750f,44.751f,45.621f,46.617f,47.630f,48.327f},
        {1.693f,1.860f,1.878f,1.734f,1.585f,1.419f,1.258f,0.989f,0.781f,0.453f,0.179f,-0.447f,-0.781f,-1.174f,-1.609f,-1.878f,-2.313f,-2.581f,-2.915f,-3.397f,-3.678f,-4.190f,-4.750f,-5.376f,-6.163f,-6.706f,-7.427f,-7.933f,-8.553f,-8.887f,-9.519f,-9.906f,-10.198f,-10.556f,-10.633f,-10.890f,-10.765f,-10.836f,-10.645f,-10.341f,-10.270f,-9.984f,-9.662f,-9.680f,-9.340f,-9.185f,-8.780f,-8.267f,-7.951f,-7.439f,-7.147f,-6.670f,-6.378f,-5.919f,-5.537f,-5.287f,-4.691f,-4.274f,-3.874f,-3.690f,-3.260f,-3.099f,-2.897f,-2.909f,-3.177f,-3.362f,-3.463f,-3.606f,-3.803f,-4.017f,-4.274f,-4.643f,-5.031f,-5.615f,-6.002f,-6.634f,-6.992f,-7.182f,-7.486f,-7.737f,-7.749f,-7.915f,-8.202f,-8.219f,-8.380f,-8.279f,-8.392f,-8.357f,-8.309f,-8.297f,-8.214f,-8.237f,-8.202f,-8.130f,-8.112f,-8.088f,-7.766f,-7.528f,-7.081f,-6.765f},

        {122.052f,121.778f,121.719f,121.343f,121.140f,120.980f,120.968f,120.747f,120.670f,120.461f,120.389f,120.401f,120.199f,120.384f,120.521f,120.533f,120.693f,121.063f,121.218f,121.337f,121.433f,121.903f,122.017f,122.225f,122.321f,122.833f,122.952f,123.167f,123.328f,123.489f,124.085f,124.168f,124.401f,124.544f,124.967f,125.253f,125.563f,126.010f,126.481f,126.374f,126.517f,126.994f,127.190f,127.316f,127.387f,127.304f,127.268f,127.196f,127.202f,126.958f,126.857f,126.553f,126.165f,126.064f,125.885f,125.849f,125.766f,125.563f,125.796f,125.599f,125.647f,125.730f,125.492f,125.593f,125.480f,125.599f,125.611f,125.498f,125.563f,125.527f,125.480f,125.360f,125.283f,125.170f,125.051f,125.349f,125.045f,125.331f,125.414f,125.480f,125.748f,125.736f,126.112f,126.356f,126.684f,127.077f,127.333f,127.560f,128.007f,127.804f,127.923f,128.144f,127.935f,127.745f,127.578f,127.405f,127.161f,126.958f,126.880f,126.630f},
        {9.144f,49.889f,50.402f,51.218f,51.588f,52.059f,52.422f,52.899f,53.149f,53.459f,53.918f,54.228f,54.508f,54.765f,55.128f,55.325f,55.510f,55.629f,55.546f,55.569f,55.534f,55.408f,55.218f,55.087f,54.973f,54.717f,54.580f,54.383f,54.389f,54.181f,54.187f,54.193f,54.061f,54.097f,54.353f,54.443f,54.610f,54.681f,55.051f,55.122f,55.307f,55.408f,55.611f,55.873f,56.219f,56.487f,56.893f,57.220f,57.691f,58.013f,58.532f,59.009f,59.813f,60.672f,61.464f,62.668f,63.878f,65.225f,66.823f,68.533f,70.375f,72.187f,73.975f,75.799f,77.355f,78.934f,80.371f,81.438f,82.189f,82.809f,83.339f,83.447f,83.333f,83.363f,82.964f,82.511f,82.141f,81.724f,81.342f,81.140f,80.866f,80.508f,80.472f,80.144f,80.013f,79.888f,79.834f,79.691f,79.542f,79.554f,79.197f,78.970f,79.024f,78.964f,78.839f,78.768f,78.624f,78.481f,78.523f,78.565f},
        {-6.354f,-5.680f,-5.311f,-4.733f,-4.458f,-4.137f,-3.642f,-3.129f,-2.873f,-2.521f,-2.372f,-2.337f,-2.187f,-2.331f,-2.688f,-2.879f,-3.064f,-3.219f,-3.368f,-3.558f,-3.880f,-4.065f,-4.339f,-4.429f,-5.037f,-5.388f,-5.680f,-6.109f,-6.342f,-6.527f,-6.980f,-7.319f,-7.766f,-8.231f,-8.714f,-9.352f,-9.644f,-9.882f,-10.091f,-10.288f,-10.574f,-10.818f,-10.830f,-11.033f,-11.027f,-11.092f,-10.777f,-10.681f,-10.198f,-9.775f,-9.215f,-8.559f,-7.886f,-7.015f,-6.467f,-5.734f,-5.084f,-4.321f,-3.600f,-2.980f,-2.509f,-2.062f,-1.705f,-1.484f,-1.228f,-0.894f,-0.513f,-0.072f,0.441f,0.840f,1.264f,1.681f,2.229f,2.736f,3.076f,3.183f,3.004f,3.445f,3.362f,3.278f,3.165f,2.778f,2.414f,1.889f,1.526f,1.103f,0.918f,0.662f,0.483f,0.370f,0.364f,0.238f,0.334f,0.316f,0.304f,0.334f,0.697f,0.888f,1.186f,1.359f}
    };
}